<!DOCTYPE html>
<html lang="vi">
	

<head>
  <meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Quay V·ªÅ ‚Äì Ph√°p Tho·∫°i</title>
  <link rel="stylesheet" href="style.css" />
	<link rel="stylesheet" href="style-mobile.css">

  <style>
    body, html {
      margin: 0;
      font-family: serif;
      color: #f5f5f5;
      overflow-x: hidden;
      background: #000;
    }

    .bg {
		position: fixed;
		inset: 0;
		width: 100vw;
		height: 100vh;
		background-image: url("./images/phap-thoai.png");
		background-size: cover;
		background-position: center;
		background-repeat: no-repeat;
		filter: brightness(0.55);
		z-index: 0;
	}

    .section {
      text-align: center;
      padding: 80px 20px;
	  position:relative;
		z-index:1;
    }

    h2 {
      font-weight: 400;
      letter-spacing: 2px;
    }

    p {
      opacity: 0.85;
      line-height: 1.8;
    }

    .actions {
      margin-top: 40px;
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
    }

    button, a {
      padding: 12px 28px;
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.25);
      color: white;
      text-decoration: none;
      border-radius: 30px;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover, a:hover {
      background: rgba(255,255,255,0.25);
    }

    /* ======================
       TALK SCREEN
    ====================== */

    .talk-screen {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.94);	  
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 40px;
      text-align: center;
	  z-index: 999;
    }

    .talk-text {
      max-width: 680px;
      font-size: 26px;
      line-height: 2;
      opacity: 0;
      transition: opacity 1.5s;
    }

    .show {
      opacity: 1;
    }

    .footer-link {
      position: absolute;
      bottom: 24px;
      font-size: 13px;
      opacity: 0.35;
    }

    .footer-link a {
      color: #ddd;
      text-decoration: none;
    }

    .footer-link a:hover {
      opacity: 0.8;
    }

    .close-btn {
      position: absolute;
      top: 24px;
      font-size: 13px;
      opacity: 0.4;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }
	/* ======================
   üì± FIX MOBILE TALK TEXT
====================== */
@media (max-width:768px){

  .talk-screen{
    padding:28px 18px; /* gi·∫£m padding cho b·ªõt ch·∫≠t */
  }

  .talk-text{
    font-size:18px;          /* nh·ªè l·∫°i */
    line-height:1.7;         /* tr√°nh ch·ªìng */
    letter-spacing:0.3px;

    max-width:100%;
    padding:0 8px;

    word-break:break-word;
    white-space:normal;

    display:block;
  }

}

  </style>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-H4B9LJ48J8"></script>
	<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-H4B9LJ48J8');
	</script>

</head>

<body>
<div class="bg"></div>

<section class="section">
  <h2>Ph√°p tho·∫°i ng·∫Øn</h2>
  <p>
    Nh·ªØng l·ªùi n√†y kh√¥ng ƒë·ªÉ tr·∫£ l·ªùi m·ªçi c√¢u h·ªèi.<br>
    Ch·ªâ ƒë·ªÉ nh·∫Øc b·∫°n d·ª´ng l·∫°i.
  </p>

  <div class="actions">
    <button onclick="startPlaylist()">L·∫Øng nghe</button>
    <button onclick="nextTalk()">Nghe th√™m m·ªôt ch√∫t</button>
    <a href="index.html">D·ª´ng l·∫°i ·ªü ƒë√¢y</a>
  </div>
</section>

<!-- TALK SCREEN -->
<div class="talk-screen" id="talkScreen">
  <button class="close-btn" onclick="closeTalk()">Tr·ªü v·ªÅ</button>
  <div class="talk-text" id="talkText"></div>

  <div class="footer-link">
    N·∫øu mu·ªën nghe th√™m, b·∫°n c√≥ th·ªÉ gh√© 
    <a href="https://youtube.com/@hocdaomoingay" target="_blank">
      ƒê·∫°o v√† ƒê·ªùi
    </a>
  </div>
</div>

<script>
const screen = document.getElementById("talkScreen");
const textEl = document.getElementById("talkText");

const bell = new Audio("audio/bell.wav");

let talkIndex = 0;
let timeWatcher;
const audio = new Audio();

/* ======================
   10 PH√ÅP THO·∫†I + AUDIO + TIMESTAMP
   üëâ ch·ªânh s·ªë t sau khi nghe mp3
====================== */

const talks = [

{
audio:"audio/talk1.mp3",
lines:[
{t:0.0, text:"B·∫°n kh√¥ng c·∫ßn tr·ªü th√†nh ai kh√°c."},
{t:2.6, text:"Ch·ªâ c·∫ßn d·ª´ng l·∫°i."},
{t:4.5, text:"Th·ªü v√†o‚Ä¶ bi·∫øt m√¨nh ƒëang s·ªëng."}
]},

{
audio:"audio/talk2.mp3",
lines:[
{t:0.0, text:"C√≥ nh·ªØng ng√†y r·∫•t m·ªát."},
{t:2.6, text:"ƒê·ª´ng c·ªë m·∫°nh m·∫Ω."},
{t:4.5, text:"H√£y cho m√¨nh ƒë∆∞·ª£c y·∫øu m·ªôt ch√∫t."}
]},

{
audio:"audio/talk3.mp3",
lines:[
{t:0.0, text:"Kh·ªï kh√¥ng ph·∫£i v√¨ ƒë·ªùi kh√≥."},
{t:2.6, text:"Kh·ªï‚Ä¶ v√¨ ta mu·ªën ƒë·ªùi kh√°c ƒëi."},
{t:4.3, text:"Bu√¥ng xu·ªëng‚Ä¶ li·ªÅn nh·∫π."}
]},

{
audio:"audio/talk4.mp3",
lines:[
{t:0.0, text:"Thi·ªÅn kh√¥ng ph·∫£i l√†m ƒëi·ªÅu g√¨ l·ªõn."},
{t:2.6, text:"Ch·ªâ l√† ng·ªìi y√™n."},
{t:4.5, text:"V√† th√¥i ch·∫°y."}
]},

{
audio:"audio/talk5.mp3",
lines:[
{t:0.0, text:"Ng∆∞·ªùi l√†m b·∫°n t·ªïn th∆∞∆°ng."},
{t:2.4, text:"c≈©ng ƒëang mang v·∫øt th∆∞∆°ng ri√™ng."},
{t:4.8, text:"Hi·ªÉu v·∫≠y‚Ä¶ l√≤ng b·ªõt o√°n."}
]},

{
audio:"audio/talk6.mp3",
lines:[
{t:0.0, text:"H·∫°nh ph√∫c kh√¥ng ·ªü ph√≠a tr∆∞·ªõc."},
{t:2.6, text:"N√≥ n·∫±m ngay trong b∆∞·ªõc ch√¢n n√†y."}
]},

{
audio:"audio/talk7.mp3",
lines:[
{t:0.0, text:"ƒê·ª´ng h·ªèi khi n√†o ƒë·ªß."},
{t:2.2, text:"Ch·ªâ c·∫ßn bi·∫øt‚Ä¶ gi√¢y ph√∫t n√†y ƒë√£ ƒë·ªß."}
]},

{
audio:"audio/talk8.mp3",
lines:[
{t:0.0, text:"M·ªôt t√°ch tr√† ·∫•m."},
{t:2.2, text:"M·ªôt h∆°i th·ªü s√¢u."},
{t:4.1, text:"Th·∫ø l√† m·ªôt ng√†y b√¨nh an."}
]},

{
audio:"audio/talk9.mp3",
lines:[
{t:0.0, text:"N·∫øu l·∫°c ƒë∆∞·ªùng."},
{t:1.9, text:"c·ª© quay v·ªÅ v·ªõi th√¢n th·ªü."},
{t:4.2, text:"·ªü ƒë√≥ lu√¥n c√≥ nh√†."}
]},

{
audio:"audio/talk10.mp3",
lines:[
{t:0.0, text:"Kh√¥ng c·∫ßn hi·ªÉu h·∫øt Ph·∫≠t ph√°p."},
{t:2.4, text:"Ch·ªâ c·∫ßn s·ªëng hi·ªÅn l·∫°i m·ªôt ch√∫t."},
{t:4.9, text:"ƒë·ªùi ƒë√£ s√°ng h∆°n r·ªìi."}
]}

];


/* ======================
   PLAYLIST LOGIC
====================== */

function startPlaylist(){
  talkIndex = Math.floor(Math.random()*talks.length);

  screen.style.display="flex";

  bell.play();

  setTimeout(()=>{
    playCurrentTalk();
  },800);
}

function playCurrentTalk(){

  const talk = talks[talkIndex];

  audio.src = talk.audio;
  audio.play();

  let i = 0;

  textEl.innerText = "";

  clearInterval(timeWatcher);

  timeWatcher = setInterval(()=>{

    if(i >= talk.lines.length) return;

    if(audio.currentTime >= talk.lines[i].t){
      showLine(talk.lines[i].text);
      i++;
    }

  }, 80);

  audio.onended = ()=>{
    talkIndex = (talkIndex+1) % talks.length;
    setTimeout(playCurrentTalk, 1200);
  };
}

function showLine(text){
  textEl.classList.remove("show");

  setTimeout(()=>{
    textEl.innerText = text;
    textEl.classList.add("show");
  },250);
}

function nextTalk(){

  if(screen.style.display !== "flex"){
    startPlaylist();
    return;
  }

  audio.pause();
  talkIndex = (talkIndex+1) % talks.length;
  playCurrentTalk();
}

function closeTalk(){
  clearInterval(timeWatcher);
  audio.pause();
  audio.currentTime = 0;
  screen.style.display="none";
}
</script>

</body>
</html>






